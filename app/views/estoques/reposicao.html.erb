<div class="page-header">
  <%= link_to estoques_path, class: 'btn btn-default' do %>
    <span class="glyphicon glyphicon-list-alt"></span>
    Voltar
  <% end %>
  <h1>Reposição de Estoque</h1>
</div>

<%= form_for(estoques_reposicao_path, html: { class: "form-horizontal", role: "form" }) do |f| %>
  <% if @estoque.errors.any? %>
    <div class="alert alert-danger alert-dismissable" role="alert">
      <button type="button" class="close" data-dismiss="alert"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
      <h4>Confira os campos abaixo:</h4>

      <ul>
      <% @estoque.errors.full_messages.each do |msg| %>
        <li><%= msg %></li>
      <% end %>
      </ul>
    </div>
  <% end %>

  <div class="form-group">
    <%= f.label :fornecedor, 'Fornecedor', class: "col-sm-1 control-label" %>
    <div class="col-sm-11">
    <%= f.select :fornecedor_id ,
          Fornecedor.all.collect{|fornecedor| [fornecedor.nome, fornecedor.id]} , 
          {:selected => @estoque.fornecedor_id, :include_blank => true},
          {:class =>'form-control'}%>
    </div>
  </div>

  <div class="form-group">
    <%= f.label :documento, 'Documento', class: "col-sm-1 control-label" %>
    <div class="col-sm-2">
      <%= f.text_field :documento, value: "#{@estoque.documento}", class: "form-control" %>
    </div>

    <%= f.label :data_reposicao, 'Data Reposição', class: "col-sm-2 control-label" %>
    <div class="col-sm-2">
      <%= f.date_field :data_reposicao, value: "#{@estoque.data_reposicao}", class: "form-control" %>
    </div>
  </div>

  <br><br>
  
  <div class="form-group">
    <%= f.label :produto, 'Produto', class: "col-sm-1 control-label" %>
    <div class="col-sm-8">
    <%= f.select :produto_id ,
          Produto.all.collect{|produto| [produto.descricao, produto.id]} , 
          {:selected => @estoque.produto_id, :include_blank => true},
          {:class =>'form-control'}%>
    </div>

    <%= f.label :estoque_atual, 'Estoque Atual', class: "col-sm-1 control-label" %>
    <div class="col-sm-2">
      <%= f.text_field :estoque_atual, class: "form-control" %>
    </div>
  </div>

  <div class="form-group">
    <%= f.label :lote, 'Lote Nº', class: "col-sm-1 control-label" %>
    <div class="col-sm-2">
      <%= f.text_field :lote, class: "form-control" %>
    </div>

    <%= f.label :data_validade, 'Data Validade', class: "col-sm-1 control-label" %>
    <div class="col-sm-2">
      <%= f.date_field :data_validade, class: "form-control" %>
    </div>

    <%= f.label :estoque_atual_lote, 'Quantidade', class: "col-sm-1 control-label" %>
    <div class="col-sm-2">
      <%= f.text_field :estoque_atual_lote, class: "form-control" %>
    </div>

    <%= f.label :estoque_reservado, 'Estoque Final', class: "col-sm-1 control-label" %>
    <div class="col-sm-2">
      <%= f.text_field :estoque_reservado, class: "form-control" %>
    </div>
  </div>

  <br><br>
  
  <div class="form-group">
    <label class="col-sm-1 control-label">Preço Custo Atual</label>
    <div class="col-sm-2">
      <input class="form-control" type="text" id="estoques_reposicao_preco_custo_atual">
    </div>

    <label class="col-sm-1 control-label">Preco Custo Reposição</label>
    <div class="col-sm-2">
      <input class="form-control" type="text" id="estoques_reposicao_preco_custo_reposicao">
    </div>

    <label class="col-sm-1 control-label">Margem de Lucro (%)</label>
    <div class="col-sm-2">
      <input class="form-control" type="text" id="estoques_reposicao_margem_lucro">
    </div>

    <label class="col-sm-1 control-label">Preco de Venda</label>
    <div class="col-sm-2">
      <input class="form-control" type="text" id="estoques_reposicao_preco_venda">
    </div>
  </div>

  <br><br>

  <div class="form-group">
    <div class="col-sm-2 col-sm-10">
      <%= f.submit "Salvar", class: "btn btn-primary" %>
    </div>
  </div>
<% end %>

<%# <script>
$(document).ready(function() {
  alert()
});
</script> %>
