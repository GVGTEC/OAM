c
n
@orcamento.valor_sub_total
@orcamento.valor_desconto
@orcamento.valor_total
c
q
@@administrador_record
administrador
c
n
@nota_fiscal.empresa_id
q
@nota_fiscal.empresa_id
n
c
@nota_fiscal.cfop.descricao
@nota_fiscal.cfop_id
@nota_fiscal.empresa_id
@nota_fiscal.cliente_id
c
C
@nota_fiscal.empresa_id
@nota_fiscal.cliente_id
n
@nota_fiscal.cliente_id
@nota_fiscal.empresa_id
@notafiscal.Empresa
@notafiscal.empresa
@notafiscal.empresa_id
q
@nota_fiscal.cliente.nome
@nota_fiscal.cliente_id.nome
@nota_fiscal.cliente_id
@nota_fiscal.empresa_id
Empresa_id
Empresa.all
q
n
N
n
q
n
@nota_fiscal[0]
@nota_fiscal[1]
@nota_fiscal[0]
@nota_fiscal.nome
q
out_file
q
out_file
q
out_file
empresa
q
indicador_final
n
usuario
n
cf
n
out_file.puts
out_file
n
empresa
out_file
n
path_tmp_nota
irb
c
Cfop.find_by(informativo: 'cfop_st_de').codigo
Cfop.find_by(informativo: 'cfop_st_de')
cfop
nota_fiscal.cfop.informativo
nota_fiscal.cfop
nota_fiscal
c
produto.estoque_atual 
params[:qtd_baixa].to_f
params[:estoque_atual_lote]
params[:estoque_atual_lote].to_f
n
self.produto
c
faturamento_parcela[:valor_parcela].gsub('.', '').gsub(',', '.').to_f
faturamento_parcela[:valor_parcela]
faturamento_parcela[:valor_parcela].gsub('R$', '')
faturamento_parcela[:valor_parcela].gsub('R$', '').to_f
@nota_fiscal_faturamento_parcela 
n
c
n
c
n
c
n
c
nota_fiscal.cliente.empresa_governo
nota_fiscal.cfop.cliente_fornecedor_cf
c
produto.situacao_tributaria != 'T'
c
valor
c
valor
valor.gsub('.', '').gsub('R$', '').to_f
c
valor.gsub('.', '').gsub('R$', '').to_f
c
valor.gsub('.', '').gsub('R$', '').to_f
c
valor
formatar_preco(nota_fiscal_item[:preco_total])
c
formatar_preco(nota_fiscal_item[:preco_total])
c
n
@nota_fiscal_item
n
c
exit
indicador_final
n
exit
c
n
Date.new(2021, 06, 01)
Date.new("2021", "06", "01")
linha[data_ultimo_reajuste][0..1]
linha[data_ultimo_reajuste][0..2]
data[0..2]
linha[data_ultimo_reajuste]
linha[bloquear_preco].present?
linha[bloquear_preco].presence
linha[bloquear_preco].presence?
linha[bloquear_preco]
linha[comissao_pc]
linha[estoque_atual].to_i / 100
linha[estoque_atual]
linha[controlar_estoque] == "S"
linha[controlar_estoque]
linha.each_with_index{|li, ind| puts "#{ind} - #{li}"}
linha[22]
linha[21]
linha[20]
linha
linha[data_ultimo_reajuste]
linha[data_inicial_oferta]
linha[situacao].blank? ? 'ATIVO' : linha[situacao]
'ATIVO' || linha[situacao].strip
'ATIVO' || linha[situacao].strip.blank?
'ATIVO' unless linha[situacao].strip.blank?
'ATIVO' unless linha[situacao].strip
linha[situacao].strip || 'ATIVO'
linha[situacao] || 'ATIVO'
linha[situacao].blank?
linha[situacao]
linha
produto
n
c
n
c
nota_fiscal_item[:preco_unitario].gsub('R$', '').to_f
nota_fiscal_item[:preco_unitario].gsub('R$', '')
nota_fiscal_item[:preco_unitario]
n
c
n
exit
movimento_estoque.save!
movimento_estoque.save
n
c
movimento['produto_id']
produto_ids
n
c
nota_fiscal_itens.find_by(produto_id: movimento['produto_id'])
nota_fiscal_itens
movimento
c
nc
n
c
err
StandardError
n
c
exit
c
linha[localizacao_estoque_id].to_i
linha[fornecedor_id].to_i
e
exit
linha[situacao_tributaria].strip
exit
c
linha
c
empresa.cfop
empresa
c
faturamento_parcela[:prazo_pagamento]
c
faturamento_parcela[:prazo_pagamento]
c
faturamento_parcela[:prazo_pagamento]
c
faturamento_parcela[:prazo_pagamento]
c
params
c
@nota_fiscal.nota_fiscal_faturamento_parcelas[2]
@nota_fiscal.nota_fiscal_faturamento_parcelas[1]
@nota_fiscal.nota_fiscal_faturamento_parcelas[0]
@nota_fiscal.nota_fiscal_faturamento_parcelas.count
c
administrador.empresa.movimento_estoques
administrador.empresa
c
NotaFiscalItemLote.all
c
NotaFiscalItemLote.all
exit
nota_fiscal_itens.find_by(produto_id: movimento["produto_id"])
n
c
NotaFiscalItemLote.all
c
x
c
NotaFiscalItemLote.all
c
n
c
cc
movimento["produto_id"]
movimento["produto)id"]
nota_fiscal_itens.select("produto_id")
nota_fiscal_itens.find_by(produto_id: movimento["produto_id"])
nota_fiscal_itens
nota_fiscal_itens.find_by(produto_id: movimento["produto_id"])
nota_fiscal_itens.find_by(nota_fiscal_id: self.id, produto_id: movimento["produto_id"])
n
c
@nota_fiscal_faturamento_parcela
n
faturamento_parcela[:valor_parcela]
n
exit
c
nota_fiscal.valor_total_nota
c
@nota_fiscal.calculo_valor_total_nota
@nota_fiscal.nota_fiscal_itens.sum(:preco_total)
